name: âœ… Check PR Title for Issue Key

on:
  pull_request:
    types: [opened, edited, reopened]

jobs:
  check-title:
    runs-on: ubuntu-latest

    steps:
      - name: ğŸ”† Check PR Title Prefix
        id: check_title
        run: |
          if [[ ! "${{ github.event.pull_request.title }}" =~ ^\[PREAM-[0-9]+\] ]]; then
            echo "ğŸš¨ PR ì œëª© í˜•ì‹ì„ ì§€ì¼œ ì£¼ì„¸ìš”! [PREAM-123]"
            exit 1
          else
            echo "ğŸ§šğŸ»â€â™€ï¸ PR ì œëª© ê·œì¹™ì„ í†µê³¼í–ˆìŠµë‹ˆë‹¤"
          fi

      - name: Fail if title check fails
        if: failure()
        run: exit 1
